function initiate_cropper(a,e,r,t,o,p,i){readURLProfile(e),$("#cropper_modal").modal("show"),$("#cropper_image").attr("ratio",r),$("#cropper_image").attr("height-data",o),$("#cropper_image").attr("width-data",t),$("#cropper_image").attr("preview-data",p),$("#cropper_image").attr("input-data",i),$("#cropper_modal #modalLabel").html(a)}function readURLProfile(a){var e;a.files&&a.files[0]&&((e=new FileReader).onload=function(a){$("#cropper_image").attr("src",a.target.result),$("#cropper_image").hide(),$("#cropper_image").fadeIn(650)},e.readAsDataURL(a.files[0]))}function cropperBtnStatus(a=!0){!0===a?$("#cropper_modal .modal-footer button").prop("disabled",!1):$("#cropper_modal .modal-footer button").prop("disabled",!0)}$("#cropper_image").on("load",function(){var e,r,p,t=document.getElementById("cropper_image");$("#cropper_modal").on("shown.bs.modal",function(){var a=$("#cropper_image").attr("ratio");p=new Cropper(t,{autoCropArea:.8,zoomOnWheel:!1,toggleDragModeOnDblclick:!1,aspectRatio:a,ready:function(){p.setCropBoxData(e).setCanvasData(r)}})}).on("click",".crop_btn",function(){var a,e,r,t,o=p.getCroppedCanvas();cropperBtnStatus(!1),o&&(o=p.getCroppedCanvas().toDataURL(),a=$("#cropper_image").attr("height-data"),e=$("#cropper_image").attr("width-data"),r=$("#cropper_image").attr("preview-data"),t=$("#cropper_image").attr("input-data"),$("#cropper_loader_img").fadeIn(),$.ajax({type:"POST",url:"/dashboard/cropper-image-upload",data:{imgurl:o,height:a,width:e},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(a){$(t).attr("value",a),$(t).trigger("change"),$(r).attr("src","/upload/crop-files/"+a),$("#cropper_loader_img").fadeOut(),p.destroy(),$("#cropper_modal").modal("hide"),cropperBtnStatus(!0)}}))}).on("hidden.bs.modal",function(){$("#cropper_loader_img").fadeOut(),e=p.getCropBoxData(),r=p.getCanvasData(),p.destroy()})});